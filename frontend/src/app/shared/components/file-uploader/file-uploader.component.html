<div class=""
     [class.has-error]="fileError">

  <div *ngIf="files.length > 0"
       class="uploaded-files">
    <div *ngFor="let file of files; let i = index"
         class="file-block">


      <!--<div class="progress" [style.width]='file.progress + "%"'>file loading progress</div>-->

      <div class="preview">

        <img *ngIf="previewUrl[i]"
             [src]="previewUrl[i]"
             class="preview-img"
             alt="">

        <div class="btn tac"
             (click)="deleteFile(file)">Удалить
          <i class="icon delete-file wb-trash"
             title="Delete file"
             ></i>
        </div>

      </div>
    </div>
  </div>

  <!-- File uploader label, if needed -->
  <label *ngIf='label'
         class="control-label">{{label}}</label>

  <!-- Drop Zone -->
  <div *ngIf="!(files.length > 0)"
       class="details-dropzone form-control non-selectable"
       [class.dragover]="isOverDropZone"
       (dragover)="isOverDropZone = true"
       (dragleave)="isOverDropZone = false"
       (drop)="getDroppedFiles($event)">

    <!-- Drop Zone text and button -->
    <label for="{{id}}" [class.svg-icon]="showPic">
      <svg *ngIf="showPic" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M322 324c-5.5 0-10 4.5-10 10 0 30.9-25.1 56-56 56 -30.9 0-56-25.1-56-56s25.1-56 56-56c5.5 0 10-4.5 10-10 0-5.5-4.5-10-10-10 -41.9 0-76 34.1-76 76s34.1 76 76 76c41.9 0 76-34.1 76-76C332 328.5 327.5 324 322 324z"/><path d="M256 300c-18.7 0-34 15.3-34 34s15.3 34 34 34c18.7 0 34-15.3 34-34S274.7 300 256 300zM256 348c-7.7 0-14-6.3-14-14s6.3-14 14-14c7.7 0 14 6.3 14 14S263.7 348 256 348z"/><path d="M502 406c-5.5 0-10 4.5-10 10v32c0 24.3-19.7 44-44 44H64c-24.3 0-44-19.7-44-44V300h123c-3.3 10.9-5 22.3-5 34 0 65.1 52.9 118 118 118s118-52.9 118-118c0-11.7-1.7-23.1-5-34H492v28.5c0 5.5 4.5 10 10 10s10-4.5 10-10V220c0-35.3-28.7-64-64-64h-67.4l-7.8-29.5c-5.4-20.3-23.8-34.5-44.9-34.5H193.9c-21 0-39.5 14.2-44.9 34.5l-7.8 29.5h-11.8v-6.3c0-16.4-13.3-29.7-29.7-29.7h-14.5c-16.4 0-29.7 13.3-29.7 29.7v6.9c-31.3 4.2-55.5 31-55.5 63.4v228C0 483.3 28.7 512 64 512h384c35.3 0 64-28.7 64-64v-32C512 410.5 507.5 406 502 406zM168.3 131.7c3.1-11.6 13.6-19.6 25.5-19.6h134.1c12 0 22.5 8.1 25.5 19.6l6.4 24.4H161.9L168.3 131.7zM75.5 149.7c0-5.3 4.3-9.7 9.7-9.7h14.5c5.3 0 9.7 4.3 9.7 9.7v6.3H75.5V149.7zM20 220c0-24.3 19.7-44 44-44h1.5 53.8 29.5 224 75.1c24.3 0 44 19.7 44 44v60H361c-12.3-24-32.8-43.5-58.6-54.6 -5.1-2.2-11 0.2-13.1 5.3 -2.2 5.1 0.2 11 5.3 13.1 36.2 15.4 59.5 50.8 59.5 90.2 0 54-44 98-98 98S158 388 158 334c0-38.3 22.5-73.3 57.4-89.2 5-2.3 7.2-8.2 5-13.2 -2.3-5-8.2-7.2-13.2-5 -24.6 11.2-44 30.3-55.9 53.4H20V220z"/><path d="M92.5 198c-16.5 0-30 13.5-30 30s13.5 30 30 30c16.5 0 30-13.5 30-30S109 198 92.5 198zM92.5 238c-5.5 0-10-4.5-10-10s4.5-10 10-10c5.5 0 10 4.5 10 10S98 238 92.5 238z"/><path d="M434.8 218h-25.9c-5.5 0-10 4.5-10 10 0 5.5 4.5 10 10 10h25.9c5.5 0 10-4.5 10-10C444.8 222.5 440.4 218 434.8 218z"/><path d="M255.9 0c-5.5 0-10 4.5-10 10v48.1c0 5.5 4.5 10 10 10s10-4.5 10-10V10C265.9 4.5 261.4 0 255.9 0z"/><path d="M351.7 42.3c-3.9-3.9-10.2-3.9-14.1 0l-19.6 19.6c-3.9 3.9-3.9 10.2 0 14.1 2 2 4.5 2.9 7.1 2.9 2.6 0 5.1-1 7.1-2.9l19.6-19.6C355.6 52.6 355.6 46.2 351.7 42.3z"/><path d="M194.2 62.3l-19.6-19.6c-3.9-3.9-10.2-3.9-14.1 0 -3.9 3.9-3.9 10.2 0 14.1l19.6 19.6c2 2 4.5 2.9 7.1 2.9s5.1-1 7.1-2.9C198.1 72.5 198.1 66.2 194.2 62.3z"/><path d="M263.1 218.9c-1.9-1.9-4.4-2.9-7.1-2.9 -2.6 0-5.2 1.1-7.1 2.9 -1.9 1.9-2.9 4.4-2.9 7.1s1.1 5.2 2.9 7.1c1.9 1.9 4.4 2.9 7.1 2.9 2.6 0 5.2-1.1 7.1-2.9 1.9-1.9 2.9-4.4 2.9-7.1S264.9 220.8 263.1 218.9z"/><path d="M509.1 366.4c-1.9-1.9-4.4-2.9-7.1-2.9 -2.6 0-5.2 1.1-7.1 2.9 -1.9 1.9-2.9 4.4-2.9 7.1s1.1 5.2 2.9 7.1c1.9 1.9 4.4 2.9 7.1 2.9 2.6 0 5.2-1.1 7.1-2.9 1.9-1.9 2.9-4.4 2.9-7.1S510.9 368.3 509.1 366.4z"/></svg>

      <span *ngIf="!showPic" class="label-text">Перетащите фото сюда или</span>
      <span class="btn btn-default">Выберите файл</span>
    </label>

    <!-- hidden file input -->
    <input type="file"
           class="dn"
           id="{{id}}"
           [multiple]="isMultiple"
           (change)="getUpload($event)">
  </div>

  <!-- Drop zone error -->
  <small *ngIf="fileError"
         class="help-block">{{fileError}}
  </small>



  <div class="clearfix"></div>
</div>
